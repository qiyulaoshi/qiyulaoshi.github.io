(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{qq80:function(e,a,r){"use strict";r.r(a);r("vhFT");var t=r("3Rhq"),s=(r("7q4v"),r("/aR+")),n=(r("KXrX"),r("z/jP")),i=(r("97mq"),r("2DJY")),c=(r("/r5d"),r("3ut4")),l=r("55MS"),d=(r("JBJZ"),r("s5vJ")),o=r("GZha"),u=(r("8kk8"),r("17Z1")),m=(r("LRHy"),r("J8No")),g=(r("G8se"),r("7CL3")),p=r("ZZRV"),h=r.n(p),b=r("9kvl"),E=r("DndG"),f=r("sYde"),v=r.n(f),w=g["a"].Item,j=m["a"].Option,_=u["a"].Group,O={ok:h.a.createElement("div",{className:v.a.success},h.a.createElement(b["a"],{id:"userandregister.strength.strong"})),pass:h.a.createElement("div",{className:v.a.warning},h.a.createElement(b["a"],{id:"userandregister.strength.medium"})),poor:h.a.createElement("div",{className:v.a.error},h.a.createElement(b["a"],{id:"userandregister.strength.short"}))},q={ok:"success",pass:"normal",poor:"exception"},y=function(e){var a,r=e.submitting,f=e.dispatch,y=e.userAndregister,N=Object(p["useState"])(0),k=Object(o["a"])(N,2),F=k[0],z=k[1],J=Object(p["useState"])(!1),C=Object(o["a"])(J,2),V=C[0],S=C[1],x=Object(p["useState"])("86"),A=Object(o["a"])(x,2),I=A[0],R=A[1],Z=Object(p["useState"])(!1),G=Object(o["a"])(Z,2),P=G[0],B=G[1],D=!1,M=g["a"].useForm(),T=Object(o["a"])(M,1),X=T[0];Object(p["useEffect"])((function(){if(y){var e=X.getFieldValue("mail");"ok"===y.status&&(d["b"].success("\u6ce8\u518c\u6210\u529f\uff01"),b["e"].push({pathname:"/user/register-result",state:{account:e}}))}}),[y]),Object(p["useEffect"])((function(){return function(){clearInterval(a)}}),[]);var Y=function(){var e=59;z(e),a=window.setInterval((function(){e-=1,z(e),0===e&&clearInterval(a)}),1e3)},L=function(){var e=X.getFieldValue("password");return e&&e.length>9?"ok":e&&e.length>5?"pass":"poor"},H=function(e){f({type:"userAndregister/submit",payload:Object(l["a"])(Object(l["a"])({},e),{},{prefix:I})})},K=function(e,a){var r=Promise;return a&&a!==X.getFieldValue("password")?r.reject(Object(b["d"])({id:"userandregister.password.twice"})):r.resolve()},Q=function(e,a){var r=Promise;return a?(V||S(!!a),B(!P),a.length<6?r.reject(""):(a&&D&&X.validateFields(["confirm"]),r.resolve())):(S(!!a),r.reject(Object(b["d"])({id:"userandregister.password.required"})))},U=function(e){R(e)},W=function(){var e=X.getFieldValue("password"),a=L();return e&&e.length?h.a.createElement("div",{className:v.a["progress-".concat(a)]},h.a.createElement(c["a"],{status:q[a],className:v.a.progress,strokeWidth:6,percent:10*e.length>100?100:10*e.length,showInfo:!1})):null};return h.a.createElement("div",{className:v.a.main},h.a.createElement("h3",null,h.a.createElement(b["a"],{id:"userandregister.register.register"})),h.a.createElement(g["a"],{form:X,name:"UserRegister",onFinish:H},h.a.createElement(w,{name:"mail",rules:[{required:!0,message:Object(b["d"])({id:"userandregister.email.required"})},{type:"email",message:Object(b["d"])({id:"userandregister.email.wrong-format"})}]},h.a.createElement(u["a"],{size:"large",placeholder:Object(b["d"])({id:"userandregister.email.placeholder"})})),h.a.createElement(i["a"],{getPopupContainer:function(e){return e&&e.parentNode?e.parentNode:e},content:V&&h.a.createElement("div",{style:{padding:"4px 0"}},O[L()],W(),h.a.createElement("div",{style:{marginTop:10}},h.a.createElement(b["a"],{id:"userandregister.strength.msg"}))),overlayStyle:{width:240},placement:"right",visible:V},h.a.createElement(w,{name:"password",className:X.getFieldValue("password")&&X.getFieldValue("password").length>0&&v.a.password,rules:[{validator:Q}]},h.a.createElement(u["a"],{size:"large",type:"password",placeholder:Object(b["d"])({id:"userandregister.password.placeholder"})}))),h.a.createElement(w,{name:"confirm",rules:[{required:!0,message:Object(b["d"])({id:"userandregister.confirm-password.required"})},{validator:K}]},h.a.createElement(u["a"],{size:"large",type:"password",placeholder:Object(b["d"])({id:"userandregister.confirm-password.placeholder"})})),h.a.createElement(_,{compact:!0},h.a.createElement(m["a"],{size:"large",value:I,onChange:U,style:{width:"20%"}},h.a.createElement(j,{value:"86"},"+86"),h.a.createElement(j,{value:"87"},"+87")),h.a.createElement(w,{style:{width:"80%"},name:"mobile",rules:[{required:!0,message:Object(b["d"])({id:"userandregister.phone-number.required"})},{pattern:/^\d{11}$/,message:Object(b["d"])({id:"userandregister.phone-number.wrong-format"})}]},h.a.createElement(u["a"],{size:"large",placeholder:Object(b["d"])({id:"userandregister.phone-number.placeholder"})}))),h.a.createElement(t["a"],{gutter:8},h.a.createElement(n["a"],{span:16},h.a.createElement(w,{name:"captcha",rules:[{required:!0,message:Object(b["d"])({id:"userandregister.verification-code.required"})}]},h.a.createElement(u["a"],{size:"large",placeholder:Object(b["d"])({id:"userandregister.verification-code.placeholder"})}))),h.a.createElement(n["a"],{span:8},h.a.createElement(s["a"],{size:"large",disabled:!!F,className:v.a.getCaptcha,onClick:Y},F?"".concat(F," s"):Object(b["d"])({id:"userandregister.register.get-verification-code"})))),h.a.createElement(w,null,h.a.createElement(s["a"],{size:"large",loading:r,className:v.a.submit,type:"primary",htmlType:"submit"},h.a.createElement(b["a"],{id:"userandregister.register.register"})),h.a.createElement(E["a"],{className:v.a.login,to:"/user/login"},h.a.createElement(b["a"],{id:"userandregister.register.sign-in"})))))};a["default"]=Object(b["c"])((function(e){var a=e.userAndregister,r=e.loading;return{userAndregister:a,submitting:r.effects["userAndregister/submit"]}}))(y)},sYde:function(e,a,r){e.exports={main:"main___2kx2N",password:"password___2JDrd",getCaptcha:"getCaptcha___1oboe",submit:"submit___34wM2",login:"login___1qBuj",success:"success___3hl98",warning:"warning___2i2r2",error:"error___3JfQo","progress-pass":"progress-pass___BM1Xu",progress:"progress___2s68u"}}}]);