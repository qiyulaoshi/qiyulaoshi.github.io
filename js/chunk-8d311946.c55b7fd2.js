(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8d311946"],{3020:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"cover",class:{"cover-hover":t.coverHover},on:{mouseover:function(s){t.focus=!0},mouseleave:function(s){t.focus=!1},click:function(s){t.clickCoverToPlay?t.play():t.goTo()}}},[e("div",{staticClass:"cover-container"},[e("div",{staticClass:"shade"},[e("button",{directives:[{name:"show",rawName:"v-show",value:t.focus,expression:"focus"}],staticClass:"play-button",style:t.playButtonStyles,on:{click:function(s){return s.stopPropagation(),t.play()}}},[e("svg-icon",{attrs:{"icon-class":"play"}})],1)]),e("img",{style:t.imageStyles,attrs:{src:t.imageUrl}}),t.coverHover||t.alwaysShowShadow?e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.focus||t.alwaysShowShadow,expression:"focus || alwaysShowShadow"}],staticClass:"shadow",style:t.shadowStyles})]):t._e()],1)])},i=[],r=(e("a9e3"),{props:{id:{type:Number,required:!0},type:{type:String,required:!0},imageUrl:{type:String,required:!0},fixedSize:{type:Number,default:0},playButtonSize:{type:Number,default:22},coverHover:{type:Boolean,default:!0},alwaysShowPlayButton:{type:Boolean,default:!0},alwaysShowShadow:{type:Boolean,default:!1},clickCoverToPlay:{type:Boolean,default:!1},shadowMargin:{type:Number,default:12},radius:{type:Number,default:12}},data:function(){return{focus:!1}},computed:{imageStyles:function(){var t={};return 0!==this.fixedSize&&(t.width=this.fixedSize+"px"),"artist"===this.type&&(t.borderRadius="50%"),t},playButtonStyles:function(){var t={};return t.width=this.playButtonSize+"%",t.height=this.playButtonSize+"%",t},shadowStyles:function(){var t={};return t.backgroundImage="url(".concat(this.imageUrl,")"),"artist"===this.type&&(t.borderRadius="50%"),t}},methods:{play:function(){var t=this.$store.state.player,s={album:t.playAlbumByID,playlist:t.playPlaylistByID,artist:t.playArtistByID};s[this.type].bind(t)(this.id)},goTo:function(){this.$router.push({name:this.type,params:{id:this.id}})}}}),o=r,n=(e("cbfd"),e("2877")),l=Object(n["a"])(o,a,i,!1,null,"7c0c7d2d",null);s["a"]=l.exports},"4e22":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"search"},[e("h1",[e("span",[t._v(t._s(t.$t("search.searchFor")))]),t._v(' "'+t._s(t.keywords)+'" ')]),t.isExistResult?e("div",{staticClass:"result"},[e("div",{staticClass:"row"},[t.result.hasOwnProperty("artist")?e("div",{staticClass:"artists"},[e("div",{staticClass:"section-title"},[t._v(t._s(t.$t("search.artist")))]),e("div",{staticClass:"artists-list"},t._l(t.result.artist.artists.slice(0,3),(function(s){return e("div",{key:s.id,staticClass:"artist"},[e("Cover",{attrs:{imageUrl:t.getArtistImageUrl(s),type:"artist",id:s.id,fixedSize:128,playButtonSize:30}}),e("div",{staticClass:"name"},[e("router-link",{attrs:{to:"/artist/"+s.id}},[t._v(t._s(s.name))])],1)],1)})),0)]):t._e(),t.result.hasOwnProperty("album")?e("div",{staticClass:"albums"},[e("div",{staticClass:"section-title"},[t._v(t._s(t.$t("search.album")))]),e("div",{staticClass:"albums-list"},t._l(t.result.album.albums.slice(0,4),(function(s){return e("div",{key:s.id,staticClass:"album"},[e("div",[e("Cover",{attrs:{imageUrl:t._f("resizeImage")(s.picUrl),type:"album",id:s.id,fixedSize:128,playButtonSize:30}})],1),e("div",{staticClass:"name"},[e("router-link",{attrs:{to:"/album/"+s.id}},[t._v(t._s(s.name))])],1),e("div",{staticClass:"artist"},[e("router-link",{attrs:{to:"/artist/"+s.artist.id}},[t._v(t._s(s.artist.name))])],1)])})),0)]):t._e()]),t.result.hasOwnProperty("song")?e("div",{staticClass:"tracks"},[e("div",{staticClass:"section-title"},[t._v(t._s(t.$t("search.song")))]),e("TrackList",{attrs:{tracks:t.tracks,type:"tracklist"}})],1):t._e(),null!==t.mvs&&t.mvs.length>0?e("div",{staticClass:"mvs"},[e("div",{staticClass:"section-title"},[t._v(t._s(t.$t("search.mv")))]),e("MvRow",{attrs:{mvs:t.mvs.slice(0,5)}})],1):t._e(),t.result.hasOwnProperty("playList")?e("div",{staticClass:"playlists"},[e("div",{staticClass:"section-title"},[t._v(t._s(t.$t("search.playlist")))]),e("div",{staticClass:"albums-list"},t._l(t.result.playList.playLists.slice(0,12),(function(s){return e("div",{key:s.id,staticClass:"album"},[e("div",[e("Cover",{attrs:{imageUrl:t._f("resizeImage")(s.coverImgUrl),type:"playlist",id:s.id,fixedSize:128,playButtonSize:30}})],1),e("div",{staticClass:"name"},[e("router-link",{attrs:{to:"/playlist/"+s.id}},[t._v(t._s(s.name))])],1)])})),0)]):t._e()]):e("div",{staticClass:"no-results"},[t._v(" "+t._s(t.$t("search.noResult"))+" ")])])},i=[],r=(e("7db0"),e("fb6a"),e("b64b"),e("ac1f"),e("1276"),e("f3f3")),o=e("2f62"),n=e("323e"),l=e.n(n),c=e("dad3"),u=e("3020"),d=e("a1a1"),v=e("d4e3"),h={name:"Search",components:{Cover:u["a"],TrackList:d["a"],MvRow:v["a"]},data:function(){return{show:!1,result:{},mvs:[],type:1,limit:30,offset:0}},computed:Object(r["a"])(Object(r["a"])({},Object(o["d"])(["search"])),{},{keywords:function(){return this.$route.query.keywords},tracks:function(){var t=this.result.song.songs.slice(0,12);return t},isExistResult:function(){return Object.keys(this.result).length}}),methods:{goToAlbum:function(t){this.$router.push({name:"album",params:{id:t}})},playTrackInSearchResult:function(t){var s=this.tracks.find((function(s){return s.id===t}));this.$store.state.player.appendTrackToPlayerList(s,!0)},getData:function(t){var s=this;Object(c["a"])({keywords:t,type:1018}).then((function(t){s.result=t.result,l.a.done(),s.show=!0})),Object(c["a"])({keywords:t,type:1004}).then((function(t){s.mvs=t.result.mvs}))},getArtistImageUrl:function(t){if(t.img1v1Url){var s=t.img1v1Url.split("/");if(s=s[s.length-1],"5639395138885805.jpg"===s)return"https://p2.music.126.net/VnZiScyynLG7atLIZ2YPkw==/18686200114669622.jpg?param=512x512"}return t.img1v1Url+"?param=512x512"}},created:function(){this.getData(this.$route.query.keywords)},beforeRouteUpdate:function(t,s,e){this.show=!1,e(),l.a.start(),this.getData(t.query.keywords)}},p=h,m=(e("81ed"),e("2877")),f=Object(m["a"])(p,a,i,!1,null,"00a2cb56",null);s["default"]=f.exports},"618c":function(t,s,e){},"7f53":function(t,s,e){},"81ed":function(t,s,e){"use strict";var a=e("c626"),i=e.n(a);i.a},"97ca":function(t,s,e){"use strict";var a=e("618c"),i=e.n(a);i.a},c626:function(t,s,e){},cbfd:function(t,s,e){"use strict";var a=e("7f53"),i=e.n(a);i.a},d4e3:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"mv-row"},t._l(t.mvs,(function(s){return e("div",{key:t.getID(s),staticClass:"mv"},[e("div",{staticClass:"cover",on:{mouseover:function(e){t.hoverVideoID=t.getID(s)},mouseleave:function(s){t.hoverVideoID=0},click:function(e){t.goToMv(t.getID(s))}}},[e("img",{attrs:{src:t.getUrl(s)}}),e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.hoverVideoID===t.getID(s),expression:"hoverVideoID === getID(mv)"}],staticClass:"shadow",style:{background:"url("+t.getUrl(s)+")"}})])],1),e("div",{staticClass:"info"},[e("div",{staticClass:"title"},[e("router-link",{attrs:{to:"/mv/"+t.getID(s)}},[t._v(t._s(t.getTitle(s)))])],1),e("div",{staticClass:"artist",domProps:{innerHTML:t._s(t.getSubtitle(s))}})])])})),0)},i=[],r=(e("99af"),e("b0c0"),e("ac1f"),e("5319"),{name:"CoverVideo",props:{mvs:Array,subtitle:{type:String,default:"artist"}},data:function(){return{hoverVideoID:0}},methods:{goToMv:function(t){var s={};void 0!==this.$parent.player&&(s={autoplay:this.$parent.player.playing}),this.$router.push({path:"/mv/"+t,query:s})},getUrl:function(t){var s,e,a=null!==(s=null!==(e=t.imgurl16v9)&&void 0!==e?e:t.cover)&&void 0!==s?s:t.coverUrl;return a.replace(/^http:/,"https:")+"?param=464x260"},getID:function(t){return void 0!==t.id?t.id:void 0!==t.vid?t.vid:void 0},getTitle:function(t){return void 0!==t.name?t.name:void 0!==t.title?t.title:void 0},getSubtitle:function(t){if("artist"===this.subtitle){var s="null",e=0;return void 0!==t.artistName?(s=t.artistName,e=t.artistId):void 0!==t.creator&&(s=t.creator[0].userName,e=t.creator[0].userId),'<a href="/#/artist/'.concat(e,'">').concat(s,"</a>")}if("publishTime"===this.subtitle)return t.publishTime}}}),o=r,n=(e("97ca"),e("2877")),l=Object(n["a"])(o,a,i,!1,null,"0ec8f7d1",null);s["a"]=l.exports},dad3:function(t,s,e){"use strict";e.d(s,"a",(function(){return r}));var a=e("b775"),i=e("cf45");function r(t){return Object(a["a"])({url:"/search",method:"get",params:t}).then((function(t){return void 0!==t.result.song&&(t.result.song.songs=Object(i["e"])(t.result.song.songs)),t}))}}}]);
//# sourceMappingURL=chunk-8d311946.c55b7fd2.js.map